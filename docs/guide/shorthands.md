# 简写（Shorthands）

使用 `shiki` 最简单的方式，就是直接用官方提供的**简写函数**。这些函数会按需加载所需的主题和语言，并自动将它们缓存到内存中。与 `createHighlighter` 和 `createHighlighterCore` 不同，这些操作是**异步**的。

```ts twoslash
// @twoslash-cache: {"v":1,"hash":"6c20a7e7ce95522bc29632be4772dda5e93cdaa224992605f628d11926964eb4","data":"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="}
import { codeToHtml } from 'shiki'

const code = 'const a = 1' // 输入的代码
const html = await codeToHtml(code, {
  lang: 'javascript',
  theme: 'vitesse-dark'
})

console.log(html) // 高亮后的 HTML 字符串
````

## 使用细粒捆绑创建简写

你也可以用细粒捆绑方式来自定义自己的简写函数。下面是一个使用细粒捆绑创建简写的示例：

```ts
import { createdBundledHighlighter, createSingletonShorthands } from 'shiki/core'
import { createJavaScriptRegexEngine } from 'shiki/engine/javascript'

const BundledLanguage = {
  typescript: () => import('@shikijs/langs/typescript'),
  javascript: () => import('@shikijs/langs/javascript'),
  vue: () => import('@shikijs/langs/vue'),
}

const BundledTheme = {
  'light-plus': () => import('@shikijs/themes/light-plus'),
  'dark-plus': () => import('@shikijs/themes/dark-plus'),
}

// 用细粒捆绑方式创建自定义的 'createHighlighter' 函数
export const createHighlighter = /* @__PURE__ */ createdBundledHighlighter<
  BundledLanguage,
  BundledTheme
>({
  langs: bundledLanguages,
  themes: bundledThemes,
  engine: () => createJavaScriptRegexEngine(),
})

// 创建简写函数
export const {
  codeToHtml,
  codeToHast,
  codeToTokensBase,
  codeToTokens,
  codeToTokensWithThemes,
  getSingletonHighlighter,
  getLastGrammarState,
} = /* @__PURE__ */ createSingletonShorthands(
  createHighlighter,
)
```

你还可以使用 [`shiki-codegen`](/packages/codegen) 来为你自动生成细粒捆绑配置。
